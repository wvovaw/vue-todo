(function(){"use strict";var e={3191:function(e,t,n){var o={};n.r(o);var a=n(9242),i=n(3396);function r(e,t,n,o,a,r){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(s)}var s={beforeCreate(){this.$store.commit("LOAD_STORE")}},d=n(89);const c=(0,d.Z)(s,[["render",r]]);var u=c,l=n(65),f=(0,l.MT)({state:{pages:[],pagesIdCounter:0},getters:{pages:e=>e.pages,pageById:e=>t=>e.pages.find((e=>e.id==t)),noteById:(e,t)=>(e,n)=>t.pageById(e).notes.find((e=>e.id==n)),lastPage:e=>e.pages.find((t=>t.id==e.pagesIdCounter-1)),lastNote:(e,t)=>e=>{const n=t.pageById(e);return console.log(n.notes.find((e=>e.id==n.notesIdCounter-1))),n.notes.find((e=>e.id==n.notesIdCounter-1))}},mutations:{LOAD_STORE:e=>{if(localStorage.getItem("todo-app-state"))try{Object.assign(e,JSON.parse(localStorage.getItem("todo-app-state")))}catch(t){console.error("ERR: Could not initialize store.",t)}},PUSH_NOTE:(e,t)=>{const n=e.pages.findIndex((e=>e.id==t.pageId));if(-1!=n){const o=e.pages[n].notes.findIndex((e=>e.id==t.note.id));-1!=o?e.pages[n].notes[o]=t.note:(t.note.id=e.pages[n].notesIdCounter++,e.pages[n].notes.push(t.note))}},REMOVE_NOTE:(e,t)=>{const n=e.pages.findIndex((e=>e.id==t.pageId));-1!=n&&(e.pages[n].notes=e.pages[n].notes.filter((e=>e.id!=t.noteId)))},PUSH_PAGE:(e,t)=>{const n=e.pages.findIndex((e=>e.id==t.id));-1!=n?e.pages[n]=t:(t.id=e.pagesIdCounter++,e.pages.push(t))},REMOVE_PAGE:(e,t)=>{const n=e.pages.findIndex((e=>e.id==t));-1!=n&&(e.pages=e.pages.filter((e=>e.id!==t)))}},actions:{pushNote:async(e,t)=>{e.commit("PUSH_NOTE",t)},removeNote:async(e,t)=>{e.commit("REMOVE_NOTE",t)},pushPage:async(e,t)=>{e.commit("PUSH_PAGE",t)},removePage:async(e,t)=>{e.commit("REMOVE_PAGE",t)}},modules:{}}),p=n(2483),g=n(7139);const v={class:"home"},h=(0,i.Uk)(" TODO Notes "),m=(0,i._)("div",{class:"notification"},[(0,i._)("h5",{class:"title is-5"}," Create pages and save todo notes on them. ")],-1),b={class:"column is-flex is-justify-content-center"},y={class:"panel column is-two-thirds"},_=(0,i.uE)('<div class="panel-heading"><p class="icon"><i class="fas fa-list"></i></p> Notebook </div><div class="panel-block"><p class="control has-icons-left"><input class="input" type="text" placeholder="Search"><span class="icon is-left"><i class="fas fa-search" aria-hidden="true"></i></span></p></div>',2),w=(0,i._)("span",{class:"panel-icon"},[(0,i._)("i",{class:"fas fa-file","aria-hidden":"true"})],-1),O=["onClick"],P={class:"panel-block"},E={class:"control has-icons-left"},C=(0,i._)("span",{class:"icon is-left"},[(0,i._)("i",{class:"fas fa-file","aria-hidden":"true"})],-1),I=["disabled"];function k(e,t,n,o,r,s){const d=(0,i.up)("ControlsBar"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",v,[(0,i.Wm)(d,null,{brand:(0,i.w5)((()=>[h])),_:1}),m,(0,i._)("div",b,[(0,i._)("nav",y,[_,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.$store.getters.pages,(e=>((0,i.wg)(),(0,i.j4)(c,{class:"panel-block is-justify-content-space-between",key:e.id,to:"/page/"+e.id},{default:(0,i.w5)((()=>[(0,i._)("div",null,[w,(0,i.Uk)(" "+(0,g.zw)(e.title),1)]),(0,i._)("i",{class:"button is-danger is-outlined is-small fas fa-trash","aria-hidden":"true",onClick:(0,a.iM)((t=>s.removePage(t,e.id)),["prevent"])},null,8,O)])),_:2},1032,["to"])))),128)),(0,i._)("div",P,[(0,i._)("p",E,[(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"New page","onUpdate:modelValue":t[0]||(t[0]=e=>r.newPage.title=e),onKeyup:t[1]||(t[1]=(0,a.D2)((e=>s.addPage()),["enter"]))},null,544),[[a.nr,r.newPage.title]]),C]),(0,i._)("button",{class:"button is-link is-outlined is-aligned-flex-end ml-4",disabled:""==r.newPage.title,onClick:t[2]||(t[2]=(...e)=>s.addPage&&s.addPage(...e))}," Add new page ",8,I)])])])])}var S=n(7026),N={name:"HomeView",components:{ControlsBar:S.Z},data(){return{newPage:{title:"",notes:[],notesIdCounter:0}}},methods:{addPage(){this.$store.dispatch("pushPage",JSON.parse(JSON.stringify(this.newPage))),this.newPage.title=""},removePage(e,t){this.$store.dispatch("removePage",t)}}};const j=(0,d.Z)(N,[["render",k]]);var A=j;const T=[{path:"/",name:"homeView",component:A},{path:"/page/:id",name:"pageView",component:()=>n.e(922).then(n.bind(n,8443))},{path:"/page/:pageId/note/:noteId",name:"editNoteView",component:()=>n.e(922).then(n.bind(n,5068))},{path:"/:catchAll(.*)*",redirect:"/"}],x=(0,p.p7)({history:(0,p.PO)("/vue-todo/"),routes:T});var B=x;f.subscribe(((e,t)=>{localStorage.setItem("todo-app-state",JSON.stringify(t))})),(0,a.ri)(u).use(f).use(B).use(o["default"]).mount("#app")},7026:function(e,t,n){n.d(t,{Z:function(){return p}});var o=n(3396);const a={class:"navbar"},i={class:"title"},r={class:"nav-item"},s={class:"title"},d={class:"nav-item"};function c(e,t,n,c,u,l){return(0,o.wg)(),(0,o.iD)("nav",a,[(0,o._)("div",i,[(0,o.WI)(e.$slots,"brand",{},void 0,!0)]),(0,o._)("div",r,[(0,o._)("h3",s,[(0,o.WI)(e.$slots,"left",{},void 0,!0)])]),(0,o._)("div",d,[(0,o.WI)(e.$slots,"right",{},void 0,!0)])])}var u={name:"ControlsBar",props:{}},l=n(89);const f=(0,l.Z)(u,[["render",c],["__scopeId","data-v-2417ef57"]]);var p=f}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],i=e[u][2];for(var s=!0,d=0;d<o.length;d++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(s=!1,i<r&&(r=i));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/edit.d13e3bbf.js"}}(),function(){n.miniCssF=function(e){return"css/edit.5d3ed4cd.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="todo-ta:";n.l=function(o,a,i,r){if(e[o])e[o].push(a);else{var s,d;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==o||l.getAttribute("data-webpack")==t+i){s=l;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/vue-todo/"}(),function(){var e=function(e,t,n,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=function(i){if(a.onerror=a.onload=null,"load"===i.type)n();else{var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=r,d.request=s,a.parentNode.removeChild(a),o(d)}};return a.onerror=a.onload=i,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var r=document.getElementsByTagName("style");for(o=0;o<r.length;o++){a=r[o],i=a.getAttribute("data-href");if(i===e||i===t)return a}},o=function(o){return new Promise((function(a,i){var r=n.miniCssF(o),s=n.p+r;if(t(r,s))return a();e(o,s,a,i)}))},a={143:0};n.f.miniCss=function(e,t){var n={922:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=i);var r=n.p+n.u(t),s=new Error,d=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,a[1](s)}};n.l(r,d,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,r=o[0],s=o[1],d=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(d)var u=d(n)}for(t&&t(o);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunktodo_ta"]=self["webpackChunktodo_ta"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3191)}));o=n.O(o)})();
//# sourceMappingURL=app.5c8cceb5.js.map